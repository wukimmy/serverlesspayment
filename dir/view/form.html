<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title> Serverless payment</title>
    <script src="../js/nav.js"></script>
    <script src="../js/auth.js"></script>
    <script src="../js/config.js"></script>

    <script src="../js/amazon-cognito-auth.min.js"></script>
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.7.16.min.js"></script>
    <script src="../js/amazon-cognito-identity.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/form.css">
    <script src="../js/form.js"></script>
    <script type="text/javascript" src="../js/instascan.min.js"></script>
</head>

<body>
    <p id="title">Let's make a transaction</p>
    <!-- <div id="transaction">
        <video id="video" width="640" height="480" autoplay></video>
        <button id="snap">Snap Photo</button>
        <canvas id="canvas" width="640" height="480"></canvas>
    </div> -->
    <video id="preview"></video>

    <script type="text/javascript">

      let scanner = new Instascan.Scanner({ video: document.getElementById('preview') });

      scanner.addListener('scan', function (content) {

        alert(content);

      });

      Instascan.Camera.getCameras().then(function (cameras) {

        if (cameras.length > 0) {

          scanner.start(cameras[0]);

        } else {

          console.error('No cameras found.');

        }

      }).catch(function (e) {

        console.error(e);

      });

    </script>
</body>
<script>
    includeHTML();
    auth();
</script>

</html>